### 什么是单元测试

单元测试是代码层面的测试，由研发自己来编写，用于测试“自己”编写的代码的逻辑的正确性。单元测试顾名思义是测试一个“单元”，有别于集成测试，这个“单元”一般是类或函数，而不是模块或者系统。



### 为什么要写单元测试

写单元测试的过程本身就是代码 Code Review 和重构的过程，能有效地发现代码中的 bug 和代码设计上的问题。除此之外，单元测试还是对集成测试的有力补充，还能帮助我们快速熟悉代码，是 TDD 可落地执行的改进方案。



### 如何编写单元测试

1. 编写单元测试尽管繁琐，但并不是太耗时
2. 我们可以稍微放低对单元测试代码质量的要求
3. 覆盖率作为衡量单元测试质量的唯一标准是不合理的
4. 单元测试不要依赖被测代码的具体实现逻辑
5. 单元测试框架无法测试，多半是因为代码的可测试性不好。



### 单元测试为何难落地执行

一方面，写单元测试本身比较繁琐，技术挑战不大，很多程序员不愿意去写；

另一方面，国内研发比较偏向“快、糙、猛”，容易因为开发进度紧，导致单元测试的执行虎头蛇尾。

最后，关键问题还是团队没有建立对单元测试正确的认识，觉得可有可无，单靠督促很难执行得很好。